!function n(t,e,a){function r(s,c){if(!e[s]){if(!t[s]){var o="function"==typeof require&&require;if(!c&&o)return o(s,!0);if(i)return i(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var h=e[s]={exports:{}};t[s][0].call(h.exports,function(n){var e=t[s][1][n];return r(e||n)},h,h.exports,n,t,e,a)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(n,t,e){!function(){"use strict";angular.module("war-card-game",[]).controller("WarController",n("./war.controller")).factory("deckService",n("./deck.service"))}()},{"./deck.service":2,"./war.controller":3}],2:[function(n,t,e){!function(){"use strict";function n(){function n(n,t){this.suit=n||{name:"blank"},this.faceValue=t||"blank",this.template="card-"+this.faceValue;var e=i.indexOf(this.faceValue);this.weight=-1!==e?e+2:0,this.description=n&&n.name&&t?t+" of "+n.name+"s":"blank"}function t(){this._cards=function(){var t=[];return r.forEach(function(e){i.forEach(function(a,r){t.push(new n(e,a))})}),t}(),this.getCards=function(){return this._cards},this.shuffle=function(){for(var n=angular.copy(this._cards),t=[];n.length>0;){var e=Math.floor(Math.random()*n.length);t.push(n.splice(e,1)[0])}this._cards=t},this.dealHands=function(n){for(var t=[],a=0;a<n;a++)t.push(new e);return this._cards.forEach(function(e,a){t[a%n].acceptCard(e)}),t}}function e(){this._cards=[],this.acceptCard=function(n){this._cards.push(n)},this.acceptCards=function(n){this._cards=this._cards.concat(n)},this.getCards=function(){return this._cards},this._cardsBeingPlayed=[],this.playNextCard=function(){this._cards.length>this._cardsBeingPlayed.length?this._cardsBeingPlayed.push(this._cards[this._cardsBeingPlayed.length]):this.playBlankCard()},this.playBlankCard=function(){this._cardsBeingPlayed.push(new n)},this.getCardsBeingPlayed=function(){return this._cardsBeingPlayed},this.getLastCardPlayed=function(){return this._cardsBeingPlayed[this._cardsBeingPlayed.length-1]},this.forfeitCards=function(n){return this._cardsBeingPlayed=[],this._cards.splice(0,n)},this.skipHand=function(){if(this._cardsBeingPlayed=[],this._cards.length>1){var n=this._cards.shift();this._cards.push(n)}}}var a=this,r=[{name:"spade",symbol:"♠"},{name:"club",symbol:"♣"},{name:"heart",symbol:"♥"},{name:"diamond",symbol:"♦"}],i=["two","three","four","five","six","seven","eight","nine","ten","jack","queen","king","ace"];return a.Card=n,a.Deck=t,a.Hand=e,a}t.exports=n,n.$inject=[]}()},{}],3:[function(n,t,e){!function(){"use strict";function n(n,t,e){function a(n){g.playerCount=n,g.hands=v.dealHands(n),i()}function r(){g.playerCount=0,g.winningHandIndex=-1,g.regiments=[],v.shuffle()}function i(){g.regiments=g.hands.map(function(n){return{cards:n.getCardsBeingPlayed(),winner:!1}})}function s(){i();for(var n=0;n<g.hands.length;n++)g.hands[n].playNextCard();i();for(var t=c(),a=0;t.length>1&&a<100;){for(var r=0,d=0;d<t.length;d++)g.hands[t[d]].playNextCard(),g.hands[t[d]].playNextCard(),g.hands[t[d]].playNextCard(),r+=g.hands[t[d]].getLastCardPlayed().weight;if(i(),0===r)return void e(o,0);t=c(),a++}if(100===a)return void e(o,0);t.length&&g.regiments[t[0]]?(g.regiments[t[0]].winner=!0,h(),u(),g.autoplayEnabled&&-1==g.winningHandIndex&&(m=e(function(){s()},g.autoplayRateMs))):g.winningHandIndex=-99}function c(){var n=[],t=0,e=0;return g.regiments.forEach(function(n){e=Math.max(e,n.cards.length)}),g.regiments.forEach(function(a,r){if(a.cards.length===e){var i=a.cards[a.cards.length-1].weight;i>t?(n=[r],t=i):i===t&&n.push(r)}}),0===t&&(n=[]),n}function o(){console.log("skipToNextBattle");for(var n=0;n<g.hands.length;n++)g.hands[n].skipHand();s()}function d(){for(var n=-1,t=0;t<g.regiments.length;t++)if(g.regiments[t].winner){n=t;break}return n}function h(){function n(n){var e=g.regiments[n].cards.length,a=g.hands[n].forfeitCards(e);g.hands[t].acceptCards(a)}var t=d();if(t>-1)if(Math.random()<.5)for(var e=g.regiments.length-1;e>-1;e--)n(e);else for(var e=0;e<g.regiments.length;e++)n(e)}function u(){var n=[];g.hands.forEach(function(t,e){t.getCards().length>0&&n.push(e)}),1===n.length&&(console.log("VICTORY!"),g.autoplayEnabled&&l(),g.winningHandIndex=n[0])}function l(){g.autoplayEnabled?(g.autoplayEnabled=!1,f()):(g.autoplayEnabled=!0,s())}function f(){e.cancel(m)}var g=this,p=2,y=6;g.playerCountOptions=[],g.playerCount=0;var v;g.hands=[],g.regiments=[],g.winningHandIndex=-1;var m;g.autoplayEnabled=!1,g.autoplayRateMs=750,g.initWar=a,g.battle=s,g.toggleAutoplay=l,g.playAgain=r,function(){v=new n.Deck,v.shuffle();for(var t=p;t<=y;t++)g.playerCountOptions.push(t)}()}t.exports=n,n.$inject=["deckService","$filter","$timeout"]}()},{}]},{},[1]);